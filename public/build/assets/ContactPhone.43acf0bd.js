import{_ as v}from"./AuthenticatedLayout.c85847aa.js";import{r as p,X as $,o as h,s as k,w,c as g,d as t,m as C,t as d,f as m,h as y,e as S,T as A,j as M,a as b,b as x,J as P,F as f,H as T,g as H}from"./app.b81024ff.js";import{a as N}from"./module.8acfb231.js";import{a as O}from"./index.ba853ab3.js";import"./_plugin-vue_export-helper.cdc0426e.js";const B={key:0,class:"modal-mask"},D={class:"modal-wrapper"},V={class:"modal-container"},L={class:"modal-header"},j={class:"modal-body"},J={class:"text-center mb-4"},E={class:"mb-4"},F=t("label",null,"\u0627\u0644\u0627\u0633\u0645:",-1),R={class:"mb-4"},U=t("label",null,"\u0645\u0644\u0627\u062D\u0638\u0629:",-1),q=t("div",{class:"mb-4"},null,-1),X={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},z={class:"mt-4"},G={class:"mt-4"},I={class:"mt-4"},K={class:"mt-4"},Q={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6"},W={class:"mt-4"},Y={class:"mt-4"},Z={__name:"ModalSure",props:{show:Boolean,phone:Object,status:Number},emits:["close"],setup(n,{emit:l}){const r=n;p(!1),p(1),p(""),p("");const _=$();async function c(i){try{const e={id:r.phone.id,type:i,name:r.phone.name,note:r.phone.note};await O.post("/api/number-decision",e),l("updated"),l("close"),_.success("\u062A\u0645 \u0627\u0644\u062A\u0646\u0641\u064A\u0630 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}catch(e){console.error("\u062E\u0637\u0623 \u0641\u064A \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",e)}}return(i,e)=>(h(),k(A,{name:"modal"},{default:w(()=>[n.show?(h(),g("div",B,[t("div",D,[t("div",V,[t("div",L,[C(i.$slots,"header")]),t("div",j,[t("h2",J,"\u0642\u0628\u0648\u0644 \u0623\u0648 \u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636 "+d(n.phone.phone),1),t("div",E,[F,m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.phone.name=s),type:"text",class:"w-full p-2 border rounded mt-1"},null,512),[[y,n.phone.name]])]),t("div",R,[U,m(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.phone.note=s),class:"w-full p-2 border rounded mt-1"},null,512),[[y,n.phone.note]])]),q,t("div",X,[t("div",z,[t("button",{onClick:e[2]||(e[2]=s=>c("accept")),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full"}," \u0642\u0628\u0648\u0644 \u0627\u0644\u0639\u0631\u0636 ")]),t("div",G,[t("button",{onClick:e[3]||(e[3]=s=>c("followup")),class:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 w-full"}," \u0645\u0639\u0627\u0648\u062F\u0629 \u0645\u0631\u0647 \u0627\u062E\u0631\u0649 ")]),t("div",I,[t("button",{onClick:e[4]||(e[4]=s=>c("busy")),class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 w-full"}," \u0645\u0634\u063A\u0648\u0644 ")]),t("div",K,[t("button",{onClick:e[5]||(e[5]=s=>c("reject")),class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 w-full"}," \u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636 ")])]),t("div",Q,[t("div",W,[t("button",{onClick:e[6]||(e[6]=s=>l("close")),class:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 w-full"}," \u062A\u0631\u0627\u062C\u0639 ")]),t("div",Y,[t("button",{onClick:e[7]||(e[7]=s=>c("edit")),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full"}," \u062A\u0639\u062F\u064A\u0644 ")])])])])])])):S("",!0)]),_:3}))}};const tt={class:"p-6"},et=t("h1",{class:"text-2xl font-bold mb-4 text-gray-800 dark:text-white"},"\u0639\u0631\u0636 \u0627\u0644\u0627\u0631\u0642\u0627\u0645",-1),st={class:"overflow-x-auto"},ot={class:"overflow-x-auto rounded-lg"},nt={id:"default-table",class:"w-full text-sm text-gray-700"},lt=t("thead",{class:"bg-gray-100 text-xs uppercase"},[t("tr",null,[t("th",{class:"px-4 py-3 text-center"},"#"),t("th",{class:"px-4 py-3 text-center"},"\u0631\u0642\u0645 \u0648\u0627\u062A\u0633\u0627\u0628"),t("th",{class:"px-4 py-3 text-center"},"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0635\u0648\u0631\u0629"),t("th",{class:"px-4 py-3 text-center"},"\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0627\u0633\u0645"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u062D\u0627\u0644\u0629"),t("th",{class:"px-4 py-3 text-center"},"\u062A\u0646\u0641\u064A\u0630")])],-1),at={class:"px-4 py-2 text-center"},dt={class:"px-4 py-2 text-center"},rt=["href"],ct={class:"px-4 py-2 text-center"},it=["href"],pt={class:"px-4 py-2 text-center"},ut={class:"px-4 py-2 text-center"},ht={class:"px-4 py-2 text-center"},xt={class:"px-4 py-2 text-center"},gt=["innerHTML"],_t={class:"px-4 py-2 text-center"},bt=["data-id","onClick"],kt={__name:"ContactPhone",props:{numbers:Array},setup(n){let l=p(!1),r=p(),_=0;function c(s){const a={0:["\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0625\u0633\u0646\u0627\u062F","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100 "],1:["\u062A\u0645 \u0627\u0644\u0625\u0633\u0646\u0627\u062F","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"],2:["\u062A\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u0639\u0631\u0636","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"],3:["\u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"],4:["\u0645\u0639\u0627\u0648\u062F\u0629 \u0645\u0631\u0647 \u0627\u062E\u0631\u0649","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"],5:["\u0645\u0634\u063A\u0648\u0644","bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-100"]},[o,u]=a[s]||["\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641","bg-gray-100 text-gray-800"];return`<span class="text-xs text-white font-medium me-2 px-2.5 py-0.5 rounded-full ${u}">${o}</span>`}const i=(s,a)=>{r.value=s,console.log(r.value),l.value=!0};M(()=>{const s=document.querySelector("#default-table");s&&(new N(s,{perPage:25,perPageSelect:[25,50,100,200,500],searchable:!0,fixedHeight:!0,pagination:!0,perPageDropdown:[25,50,100,200,500],labels:{placeholder:"\u0628\u062D\u062B...",perPage:"\u0639\u0631\u0636 \u0643\u0644 \u0635\u0641\u062D\u0629",noRows:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A",info:"\u0639\u0631\u0636 {start} \u0625\u0644\u0649 {end} \u0645\u0646 \u0623\u0635\u0644 {rows} \u0633\u062C\u0644"}}),s.addEventListener("click",a=>{const o=a.target.getAttribute("data-id"),u=JSON.parse(o);a.target.getAttribute("data-type"),i(u)}))});const e=()=>{console.log(ids)};return(s,a)=>(h(),g(f,null,[b(x(T),{title:"Dashboard"}),b(Z,{show:x(l),phone:x(r),status:x(_),onClose:a[0]||(a[0]=o=>P(l)?l.value=!1:l=!1),onA:e},null,8,["show","phone","status"]),b(v,null,{default:w(()=>[t("div",tt,[et,t("div",st,[t("div",ot,[t("table",nt,[lt,t("tbody",null,[(h(!0),g(f,null,H(n.numbers,(o,u)=>(h(),g("tr",{key:o.id,class:"border-b hover:bg-gray-50 dark:hover:bg-gray-900"},[t("td",at,d(u+1),1),t("td",dt,[t("a",{href:`https://wa.me/${o.phone}`,target:"_blank"},d(o.phone),9,rt)]),t("td",ct,[t("a",{href:`tel:${o.phone}`,target:"_blank"},d(o.phone),9,it)]),t("td",pt,d(o.image_name),1),t("td",ut,d(o.created_at.split("T")[0]),1),t("td",ht,d(o.name),1),t("td",xt,d(o.note),1),t("td",{class:"px-4 py-2 text-center",style:{"min-width":"140px"},innerHTML:c(o.status)},null,8,gt),t("td",_t,[t("button",{class:"px-3 py-1 text-white mx-1 bg-rose-600 rounded","data-id":JSON.stringify(o),"data-type":"OfferAccepted",onClick:mt=>i(o.id,"OfferAccepted")}," \u062A\u0646\u0641\u064A\u0630 ",8,bt)])]))),128))])])])])])]),_:1})],64))}};export{kt as default};
