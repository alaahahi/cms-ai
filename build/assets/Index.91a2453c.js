import{_ as S}from"./AuthenticatedLayout.aa2824ed.js";import{r as b,o as i,s as N,w,c as u,d as e,m as C,f as _,h as g,b as t,e as f,T as U,C as E,X as D,j as T,a as y,J as v,F as $,H,g as I,t as x}from"./app.d1042148.js";import{a as F}from"./module.8acfb231.js";import{a as k}from"./index.cc835c4f.js";import"./_plugin-vue_export-helper.cdc0426e.js";const L={key:0,class:"modal-mask"},P={class:"modal-wrapper"},R={class:"modal-container"},j={class:"modal-header"},q=e("div",{class:"modal-body"}," \u0627\u0644\u0645\u0646\u062F\u0648\u0628\u064A\u0646 ",-1),J={className:"flex flex-col"},X={className:"mb-4"},z=e("label",{for:"name"},"\u0627\u0644\u0623\u0633\u0645",-1),G={key:0,className:"text-red-600"},K={className:"mb-4"},O=e("label",{for:"email"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",-1),Q={key:0,className:"text-red-600"},W={className:"mb-4"},Y=e("label",{for:"password"},"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",-1),Z={key:0,className:"text-red-600"},ee={className:"mb-4"},se=e("label",{for:"percentage"}," \u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",-1),te={class:"modal-footer my-2"},oe={class:"flex flex-row"},ae={class:"basis-1/2 px-4"},ne={class:"basis-1/2 px-4"},de={__name:"ModalUsersCustom",props:{show:Boolean,data:String},emits:["close","a"],setup(m,{emit:p}){let a=b({name:"",email:"",password:"",percentage:1e4});return(d,o)=>(i(),N(U,{name:"modal"},{default:w(()=>[m.show?(i(),u("div",L,[e("div",P,[e("div",R,[e("div",j,[C(d.$slots,"header")]),q,e("div",null,[e("form",null,[e("div",J,[e("div",X,[z,_(e("input",{id:"name",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":o[0]||(o[0]=s=>t(a).name=s),autofocus:""},null,512),[[g,t(a).name]]),t(a).name?f("",!0):(i(),u("span",G," \u0627\u0644\u0623\u0633\u0645 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "))]),e("div",K,[O,_(e("input",{id:"email",type:"email",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":o[1]||(o[1]=s=>t(a).email=s)},null,512),[[g,t(a).email]]),!t(a).email||!t(a).email.includes("@")||!t(a).email.includes(".com")?(i(),u("span",Q," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 \u0627\u064A\u0645\u064A\u0644 \u0645\u062B\u0644 alaa@cms.com ")):f("",!0)]),e("div",W,[Y,_(e("input",{id:"password",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":o[2]||(o[2]=s=>t(a).password=s)},null,512),[[g,t(a).password]]),t(a).password.length<8?(i(),u("span",Z," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 \u0645\u0646 8 \u0627\u0631\u0642\u0627\u0645 \u0627\u0648 \u0627\u062D\u0631\u0641 \u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629 ")):f("",!0)]),e("div",ee,[se,_(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":o[3]||(o[3]=s=>t(a).percentage=s)},null,512),[[g,t(a).percentage]])])])])]),e("div",te,[e("div",oe,[e("div",ae,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:o[4]||(o[4]=s=>{d.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",ne,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:o[5]||(o[5]=s=>{d.$emit("a",t(a))})},"\u062D\u0641\u0638")])])])])])])):f("",!0)]),_:3}))}};const le={key:0,class:"modal-mask"},re={class:"modal-wrapper"},ie={class:"modal-container"},ce={class:"modal-header"},ue=e("div",{class:"modal-body"}," \u0627\u0644\u0645\u0646\u062F\u0648\u0628\u064A\u0646 ",-1),me={className:"flex flex-col"},pe={className:"mb-4"},_e=e("label",{for:"name"},"\u0627\u0644\u0623\u0633\u0645",-1),ge={key:0,className:"text-red-600"},fe={className:"mb-4"},be=e("label",{for:"percentage"}," \u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",-1),he={class:"modal-footer my-2"},ye={class:"flex flex-row"},ve={class:"basis-1/2 px-4"},xe={class:"basis-1/2 px-4"},we={__name:"ModalUsersCustomEdit",props:{show:Boolean,id:Number,name:String,percentage:Number},emits:["close","a"],setup(m,{emit:p}){const a=m;E(a,o=>{d.value={id:o.id,name:o.name,percentage:o.percentage}});let d=b({id:a.id,name:a.name,percentage:a.percentage});return(o,s)=>(i(),N(U,{name:"modal"},{default:w(()=>[m.show?(i(),u("div",le,[e("div",re,[e("div",ie,[e("div",ce,[C(o.$slots,"header")]),ue,e("div",null,[e("form",null,[e("div",me,[e("div",pe,[_e,_(e("input",{id:"name",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[0]||(s[0]=r=>t(d).name=r),autofocus:""},null,512),[[g,t(d).name]]),t(d).name?f("",!0):(i(),u("span",ge," \u0627\u0644\u0623\u0633\u0645 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "))]),e("div",fe,[be,_(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":s[1]||(s[1]=r=>t(d).percentage=r)},null,512),[[g,t(d).percentage]])])])])]),e("div",he,[e("div",ye,[e("div",ve,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:s[2]||(s[2]=r=>{o.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",xe,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:s[3]||(s[3]=r=>{o.$emit("a",t(d))})},"\u062D\u0641\u0638")])])])])])])):f("",!0)]),_:3}))}};const $e={class:"p-6"},ke={class:"overflow-x-auto"},Ne={class:"overflow-x-auto rounded-lg"},Ce={id:"default-table",class:"w-full text-sm text-gray-700"},Ue=e("thead",{class:"bg-gray-100 text-xs uppercase"},[e("tr",null,[e("th",{class:"px-4 py-3 text-center"},"#"),e("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0645\u0646\u062F\u0648\u0628"),e("th",{class:"px-4 py-3 text-center"},"\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0643\u0644 \u0628\u0637\u0627\u0642\u0629"),e("th",{class:"px-4 py-3 text-center"},"\u062A\u0646\u0641\u064A\u0630")])],-1),Me={class:"px-4 py-2 text-center"},Ve={class:"px-4 py-2 text-center"},Ae={class:"px-4 py-2 text-center"},Be={class:"px-4 py-2 text-center"},Se=["data-id","data-name","data-percentage","className"],Fe={__name:"Index",props:{users:Array},setup(m){const p=D();b(!1);let a=0,d="",o=0,s=b(!1),r=b(!1);const M=(c,n,l,h)=>{a=c,d=n,o=l,r.value=!0};T(()=>{const c=document.querySelector("#default-table");c&&(new F(c,{perPage:10,perPageSelect:[5,10,25,50],searchable:!0,fixedHeight:!0,pagination:!0,perPageDropdown:[5,10,25,50],labels:{placeholder:"\u0628\u062D\u062B...",perPage:"\u0639\u0631\u0636 \u0643\u0644 \u0635\u0641\u062D\u0629",noRows:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A",info:"\u0639\u0631\u0636 {start} \u0625\u0644\u0649 {end} \u0645\u0646 \u0623\u0635\u0644 {rows} \u0633\u062C\u0644"}}),c.addEventListener("click",n=>{const l=n.target.getAttribute("data-id"),h=n.target.getAttribute("data-name"),B=n.target.getAttribute("data-percentage");n.target.getAttribute("data-email"),M(l,h,B)}))});const V=c=>{k.post("/api/add-user-custom",c).then(n=>{s.value=!1,p.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}).catch(n=>{n.response.status==422&&p.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627 \u0627\u0648 \u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 \u0642\u0628\u0644 \u064A\u0631\u062C\u0649 \u0643\u062A\u0627\u0628\u0629 \u0627\u064A\u0645\u064A\u0644 \u062C\u062F\u064A\u062F")})},A=c=>{k.post("/api/edit-user-custom",c).then(n=>{r.value=!1,p.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}).catch(n=>{n.response.status==422&&p.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627 \u0627\u0648 \u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 \u0642\u0628\u0644 \u064A\u0631\u062C\u0649 \u0643\u062A\u0627\u0628\u0629 \u0627\u064A\u0645\u064A\u0644 \u062C\u062F\u064A\u062F")})};return(c,n)=>(i(),u($,null,[y(t(H),{title:"Dashboard"}),y(de,{show:t(s),onClose:n[0]||(n[0]=l=>v(s)?s.value=!1:s=!1),onA:V},null,8,["show"]),y(we,{show:t(r),onClose:n[1]||(n[1]=l=>v(r)?r.value=!1:r=!1),onA:A,percentage:t(o),id:t(a),name:t(d)},null,8,["show","percentage","id","name"]),y(S,null,{default:w(()=>[e("div",$e,[e("div",ke,[e("div",Ne,[e("button",{onClick:n[2]||(n[2]=l=>v(s)?s.value=!0:s=!0),class:"px-6 py-2 mb-4 font-bold text-white bg-blue-500 rounded"},"\u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062F\u0648\u0628"),e("table",Ce,[Ue,e("tbody",null,[(i(!0),u($,null,I(m.users,(l,h)=>(i(),u("tr",{key:l.id,class:"border-b hover:bg-gray-50 dark:hover:bg-gray-900"},[e("td",Me,x(h+1),1),e("td",Ve,x(l.name),1),e("td",Ae,x(l.percentage),1),e("td",Be,[e("button",{tabIndex:"1","data-id":l.id,"data-name":l.name,"data-percentage":l.percentage,className:"px-3 py-1 text-white mx-1 bg-rose-600 rounded user-"+l.id},"\u062A\u0639\u062F\u064A\u0644",8,Se)])]))),128))])])])])])]),_:1})],64))}};export{Fe as default};
