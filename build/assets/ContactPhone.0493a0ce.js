import{_ as v}from"./AuthenticatedLayout.5a3b52b8.js";import{r as p,X as $,o as h,s as k,w,c as x,d as t,m as C,t as i,f as m,h as y,e as S,T as A,j as M,a as b,b as g,J as P,F as f,H,g as N}from"./app.53e382e9.js";import{a as O}from"./module.8acfb231.js";import{a as T}from"./index.69a456ed.js";import"./_plugin-vue_export-helper.cdc0426e.js";const B={key:0,class:"modal-mask"},D={class:"modal-wrapper"},V={class:"modal-container"},L={class:"modal-header"},j={class:"modal-body"},J={class:"text-center mb-4"},E={class:"mb-4"},F=t("label",null,"\u0627\u0644\u0627\u0633\u0645:",-1),R={class:"mb-4"},U=t("label",null,"\u0645\u0644\u0627\u062D\u0638\u0629:",-1),q=t("div",{class:"mb-4"},null,-1),X={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},z={class:"mt-4"},G={class:"mt-4"},I={class:"mt-4"},K={class:"mt-4"},Q={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6"},W={class:"mt-4"},Y={class:"mt-4"},Z={__name:"ModalSure",props:{show:Boolean,phone:Object,status:Number},emits:["close"],setup(n,{emit:l}){const d=n;p(!1),p(1),p(""),p("");const _=$();async function r(c){try{const e={id:d.phone.id,type:c,name:d.phone.name,note:d.phone.note};await T.post("/api/number-decision",e),l("updated"),l("close"),_.success("\u062A\u0645 \u0627\u0644\u062A\u0646\u0641\u064A\u0630 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}catch(e){console.error("\u062E\u0637\u0623 \u0641\u064A \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",e)}}return(c,e)=>(h(),k(A,{name:"modal"},{default:w(()=>[n.show?(h(),x("div",B,[t("div",D,[t("div",V,[t("div",L,[C(c.$slots,"header")]),t("div",j,[t("h2",J,"\u0642\u0628\u0648\u0644 \u0623\u0648 \u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636 "+i(n.phone.phone),1),t("div",E,[F,m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.phone.name=s),type:"text",class:"w-full p-2 border rounded mt-1"},null,512),[[y,n.phone.name]])]),t("div",R,[U,m(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.phone.note=s),class:"w-full p-2 border rounded mt-1"},null,512),[[y,n.phone.note]])]),q,t("div",X,[t("div",z,[t("button",{onClick:e[2]||(e[2]=s=>r("accept")),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full"}," \u0642\u0628\u0648\u0644 \u0627\u0644\u0639\u0631\u0636 ")]),t("div",G,[t("button",{onClick:e[3]||(e[3]=s=>r("followup")),class:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 w-full"}," \u0645\u0639\u0627\u0648\u062F\u0629 \u0645\u0631\u0647 \u0627\u062E\u0631\u0649 ")]),t("div",I,[t("button",{onClick:e[4]||(e[4]=s=>r("busy")),class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 w-full"}," \u0645\u0634\u063A\u0648\u0644 ")]),t("div",K,[t("button",{onClick:e[5]||(e[5]=s=>r("reject")),class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 w-full"}," \u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636 ")])]),t("div",Q,[t("div",W,[t("button",{onClick:e[6]||(e[6]=s=>l("close")),class:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 w-full"}," \u062A\u0631\u0627\u062C\u0639 ")]),t("div",Y,[t("button",{onClick:e[7]||(e[7]=s=>r("edit")),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full"}," \u062A\u0639\u062F\u064A\u0644 ")])])])])])])):S("",!0)]),_:3}))}};const tt={class:"p-6"},et=t("h1",{class:"text-2xl font-bold mb-4 text-gray-800 dark:text-white"},"\u0639\u0631\u0636 \u0627\u0644\u0627\u0631\u0642\u0627\u0645",-1),st={class:"overflow-x-auto"},ot={class:"overflow-x-auto rounded-lg"},nt={id:"default-table",class:"w-full text-sm text-gray-700"},lt=t("thead",{class:"bg-gray-100 text-xs uppercase"},[t("tr",null,[t("th",{class:"px-4 py-3 text-center"},"#"),t("th",{class:"px-4 py-3 text-center"},"\u0631\u0642\u0645 \u0648\u0627\u062A\u0633\u0627\u0628"),t("th",{class:"px-4 py-3 text-center"},"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0635\u0648\u0631\u0629"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0627\u0633\u0645"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u062D\u0627\u0644\u0629"),t("th",{class:"px-4 py-3 text-center"},"\u062A\u0646\u0641\u064A\u0630")])],-1),at={class:"px-4 py-2 text-center"},dt={class:"px-4 py-2 text-center"},rt=["href"],it={class:"px-4 py-2 text-center"},ct=["href"],pt={class:"px-4 py-2 text-center"},ut={class:"px-4 py-2 text-center"},ht={class:"px-4 py-2 text-center"},gt=["innerHTML"],xt={class:"px-4 py-2 text-center"},_t=["data-id","onClick"],$t={__name:"ContactPhone",props:{numbers:Array},setup(n){let l=p(!1),d=p(),_=0;function r(s){const a={0:["\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0625\u0633\u0646\u0627\u062F","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100 "],1:["\u062A\u0645 \u0627\u0644\u0625\u0633\u0646\u0627\u062F","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"],2:["\u062A\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u0639\u0631\u0636","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"],3:["\u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"],4:["\u0645\u0639\u0627\u0648\u062F\u0629 \u0645\u0631\u0647 \u0627\u062E\u0631\u0649","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"],5:["\u0645\u0634\u063A\u0648\u0644","bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-100"]},[o,u]=a[s]||["\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641","bg-gray-100 text-gray-800"];return`<span class="text-xs text-white font-medium me-2 px-2.5 py-0.5 rounded-full ${u}">${o}</span>`}const c=(s,a)=>{d.value=s,console.log(d.value),l.value=!0};M(()=>{const s=document.querySelector("#default-table");s&&(new O(s,{perPage:10,perPageSelect:[5,10,25,50],searchable:!0,fixedHeight:!0,pagination:!0,perPageDropdown:[5,10,25,50],labels:{placeholder:"\u0628\u062D\u062B...",perPage:"\u0639\u0631\u0636 \u0643\u0644 \u0635\u0641\u062D\u0629",noRows:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A",info:"\u0639\u0631\u0636 {start} \u0625\u0644\u0649 {end} \u0645\u0646 \u0623\u0635\u0644 {rows} \u0633\u062C\u0644"}}),s.addEventListener("click",a=>{const o=a.target.getAttribute("data-id"),u=JSON.parse(o);a.target.getAttribute("data-type"),c(u)}))});const e=()=>{console.log(ids)};return(s,a)=>(h(),x(f,null,[b(g(H),{title:"Dashboard"}),b(Z,{show:g(l),phone:g(d),status:g(_),onClose:a[0]||(a[0]=o=>P(l)?l.value=!1:l=!1),onA:e},null,8,["show","phone","status"]),b(v,null,{default:w(()=>[t("div",tt,[et,t("div",st,[t("div",ot,[t("table",nt,[lt,t("tbody",null,[(h(!0),x(f,null,N(n.numbers,(o,u)=>(h(),x("tr",{key:o.id,class:"border-b hover:bg-gray-50 dark:hover:bg-gray-900"},[t("td",at,i(u+1),1),t("td",dt,[t("a",{href:`https://wa.me/${o.phone}`,target:"_blank"},i(o.phone),9,rt)]),t("td",it,[t("a",{href:`tel:${o.phone}`,target:"_blank"},i(o.phone),9,ct)]),t("td",pt,i(o.image_name),1),t("td",ut,i(o.name),1),t("td",ht,i(o.note),1),t("td",{class:"px-4 py-2 text-center",style:{"min-width":"140px"},innerHTML:r(o.status)},null,8,gt),t("td",xt,[t("button",{class:"px-3 py-1 text-white mx-1 bg-rose-600 rounded","data-id":JSON.stringify(o),"data-type":"OfferAccepted",onClick:bt=>c(o.id,"OfferAccepted")}," \u062A\u0646\u0641\u064A\u0630 ",8,_t)])]))),128))])])])])])]),_:1})],64))}};export{$t as default};
