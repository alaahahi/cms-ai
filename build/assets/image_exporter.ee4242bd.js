import{r as o,c as n,a as y,b as f,w as m,F as b,o as d,H as C,d as e,f as D,h as M,J as V,P as B,t as i,e as Y,g as v,q as x}from"./app.ddfef55e.js";import{_ as j}from"./AuthenticatedLayout.0afd9353.js";import"./vue-tailwind-datepicker.39d8d1c5.js";import{a as _}from"./index.dd60199d.js";import"./_plugin-vue_export-helper.cdc0426e.js";const F=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-white leading-tight"}," \u0627\u0633\u062A\u062E\u0631\u0627\u062C \u0627\u0644\u0635\u0648\u0631 ",-1),N={class:"flex items-center px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-700"},P=e("svg",{class:"w-5 h-5 rotate-45","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[e("path",{d:"m17.914 18.594-8-18a1 1 0 0 0-1.828 0l-8 18a1 1 0 0 0 1.157 1.376L8 18.281V9a1 1 0 0 1 2 0v9.281l6.758 1.689a1 1 0 0 0 1.156-1.376Z"})],-1),T=e("span",{class:"sr-only"},"Send message",-1),$=[P,T],q={key:0,class:"px-5 py-2"},z={class:"w-full bg-gray-200 rounded-full dark:bg-gray-700 mt-2"},H={class:"flex justify-between mt-2"},L={class:"col-6"},R={class:"w-64 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},U={class:"col-6"},E={class:"w-64 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},Q={__name:"image_exporter",props:{url:String,user:String,profile:String,comp:String,working:String,cardCompany:String,cardRegister:String,balance:String},setup(I){let u=o("");const l=o([]),g=o([]),p=o(!1),c=o(0);function k(r){const s=new FormData;for(let t of r.target.files)s.append("images[]",t);p.value=!0,c.value=0,_.post("/extract-phones",s,{onUploadProgress:t=>{c.value=Math.round(t.loaded*100/t.total)}}).then(t=>{l.value=t.data.results.flatMap(a=>a.phones),g.value=[...new Set(l.value)]}).catch(t=>{console.error("\u062D\u062F\u062B \u062E\u0637\u0623",t)}).finally(()=>{p.value=!1})}const h=o({startDate:"",endDate:""}),w=o();o({date:"D/MM/YYYY",month:"MM"}),o({shortcuts:{today:"\u0627\u0644\u064A\u0648\u0645",yesterday:"\u0627\u0644\u0628\u0627\u0631\u062D\u0629",past:r=>r+" \u0642\u0628\u0644 \u064A\u0648\u0645",currentMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062D\u0627\u0644\u064A",pastMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0633\u0627\u0628\u0642"},footer:{apply:"Terapkan",cancel:"Batal"}}),(async()=>{const r=await fetch(`getcount?start=${h.value.startDate}&end=${h.value.endDate}`);w.value=await r.json()})();const S=()=>{_.post("api/send-text-phone",{text:u.value}).then(r=>{l.value=r.data.phones}).catch(r=>{console.error("\u062D\u062F\u062B \u062E\u0637\u0623",r)})};return(r,s)=>(d(),n(b,null,[y(f(C),{title:"Dashboard"}),y(j,null,{header:m(()=>[F]),default:m(()=>[e("div",null,[e("div",N,[e("button",{onClick:s[0]||(s[0]=t=>S()),class:"inline-flex justify-center p-2 text-blue-600 rounded-full cursor-pointer hover:bg-blue-100 dark:text-blue-500 dark:hover:bg-gray-600"},$),D(e("textarea",{rows:"1","onUpdate:modelValue":s[1]||(s[1]=t=>V(u)?u.value=t:u=t),class:"block mx-4 p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",style:{height:"300px",font:"1.5em sans-serif"}},null,512),[[M,f(u)]]),e("input",{multiple:"",onChange:k,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"user_avatar_help",type:"file"},null,32)]),p.value?(d(),n("div",q,[e("div",z,[e("div",{class:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:B({width:c.value+"%"})},i(c.value)+"% ",5)])])):Y("",!0),e("div",H,[e("div",L,[e("div",null,i(l.value.length),1),e("ul",R,[(d(!0),n(b,null,v(l.value,(t,a)=>(d(),n("li",{key:a,class:x(["w-full px-4 py-2 border-b border-gray-200 last:border-b-0 dark:border-gray-600",{"rounded-t-lg":a===0,"rounded-b-lg":a===l.value.length-1}])},i(t),3))),128))])]),e("div",U,[e("div",null,i(g.value.length),1),e("ul",E,[(d(!0),n(b,null,v(g.value,(t,a)=>(d(),n("li",{key:a,class:x(["w-full px-4 py-2 border-b border-gray-200 last:border-b-0 dark:border-gray-600",{"rounded-t-lg":a===0,"rounded-b-lg":a===g.value.length-1}])},i(t),3))),128))])])])])]),_:1})],64))}};export{Q as default};
