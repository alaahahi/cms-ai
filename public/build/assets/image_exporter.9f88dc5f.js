import{r,c as u,a as p,b,w as h,F as y,o as i,H as _,d as t,f as w,h as S,J as C,g as D,q as M,t as f,P as V,e as B}from"./app.7fb1f1cd.js";import{_ as Y}from"./AuthenticatedLayout.4a4fc29c.js";import"./vue-tailwind-datepicker.c6cd121e.js";import{a as m}from"./index.87271116.js";import"./_plugin-vue_export-helper.cdc0426e.js";const F=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-white leading-tight"}," \u0627\u0633\u062A\u062E\u0631\u0627\u062C \u0627\u0644\u0635\u0648\u0631 ",-1),N={class:"flex items-center px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-700"},T=t("svg",{class:"w-5 h-5 rotate-45","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[t("path",{d:"m17.914 18.594-8-18a1 1 0 0 0-1.828 0l-8 18a1 1 0 0 0 1.157 1.376L8 18.281V9a1 1 0 0 1 2 0v9.281l6.758 1.689a1 1 0 0 0 1.156-1.376Z"})],-1),$=t("span",{class:"sr-only"},"Send message",-1),j=[T,$],z={class:"mt-2 px-5 py-2 rounded-lg bg-gray-50 dark:bg-gray-700"},H={class:"w-64 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},L={key:0,class:"px-5 py-2"},P={class:"w-full bg-gray-200 rounded-full dark:bg-gray-700 mt-2"},A={__name:"image_exporter",props:{url:String,user:String,profile:String,comp:String,working:String,cardCompany:String,cardRegister:String,balance:String},setup(R){let s=r("");const n=r([]),g=r(!1),d=r(0);function x(a){const o=new FormData;for(let e of a.target.files)o.append("images[]",e);g.value=!0,d.value=0,m.post("/extract-phones",o,{onUploadProgress:e=>{d.value=Math.round(e.loaded*100/e.total)}}).then(e=>{n.value=e.data.results.flatMap(l=>l.phones)}).catch(e=>{console.error("\u062D\u062F\u062B \u062E\u0637\u0623",e)}).finally(()=>{g.value=!1})}const c=r({startDate:"",endDate:""}),v=r();r({date:"D/MM/YYYY",month:"MM"}),r({shortcuts:{today:"\u0627\u0644\u064A\u0648\u0645",yesterday:"\u0627\u0644\u0628\u0627\u0631\u062D\u0629",past:a=>a+" \u0642\u0628\u0644 \u064A\u0648\u0645",currentMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062D\u0627\u0644\u064A",pastMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0633\u0627\u0628\u0642"},footer:{apply:"Terapkan",cancel:"Batal"}}),(async()=>{const a=await fetch(`getcount?start=${c.value.startDate}&end=${c.value.endDate}`);v.value=await a.json()})();const k=()=>{m.post("api/send-text-phone",{text:s.value}).then(a=>{n.value=a.data.phones}).catch(a=>{console.error("\u062D\u062F\u062B \u062E\u0637\u0623",a)})};return(a,o)=>(i(),u(y,null,[p(b(_),{title:"Dashboard"}),p(Y,null,{header:h(()=>[F]),default:h(()=>[t("div",null,[t("div",N,[t("button",{onClick:o[0]||(o[0]=e=>k()),class:"inline-flex justify-center p-2 text-blue-600 rounded-full cursor-pointer hover:bg-blue-100 dark:text-blue-500 dark:hover:bg-gray-600"},j),w(t("textarea",{rows:"1","onUpdate:modelValue":o[1]||(o[1]=e=>C(s)?s.value=e:s=e),class:"block mx-4 p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",style:{height:"300px",font:"1.5em sans-serif"}},null,512),[[S,b(s)]]),t("input",{multiple:"",onChange:x,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"user_avatar_help",type:"file"},null,32)]),t("div",z,[t("ul",H,[(i(!0),u(y,null,D(n.value,(e,l)=>(i(),u("li",{key:l,class:M(["w-full px-4 py-2 border-b border-gray-200 last:border-b-0 dark:border-gray-600",{"rounded-t-lg":l===0,"rounded-b-lg":l===n.value.length-1}])},f(e),3))),128))])]),g.value?(i(),u("div",L,[t("div",P,[t("div",{class:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:V({width:d.value+"%"})},f(d.value)+"% ",5)])])):B("",!0)])]),_:1})],64))}};export{A as default};
