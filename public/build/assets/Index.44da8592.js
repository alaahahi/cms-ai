import{_ as E}from"./AuthenticatedLayout.71cbe845.js";import{r as b,o as c,s as N,w as $,c as u,d as e,m as U,f as _,h as g,b as s,e as f,T as C,C as D,X as I,j as T,a as y,J as v,F as k,H,g as F,t as x}from"./app.ccde3b82.js";import{a as L}from"./module.8acfb231.js";import{a as w}from"./index.d1d1fce9.js";import"./_plugin-vue_export-helper.cdc0426e.js";const P={key:0,class:"modal-mask"},R={class:"modal-wrapper"},j={class:"modal-container"},q={class:"modal-header"},J=e("div",{class:"modal-body"}," \u0627\u0644\u0645\u0646\u062F\u0648\u0628\u064A\u0646 ",-1),X={className:"flex flex-col"},z={className:"mb-4"},G=e("label",{for:"name"},"\u0627\u0644\u0623\u0633\u0645",-1),K={key:0,className:"text-red-600"},O={className:"mb-4"},Q=e("label",{for:"email"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",-1),W={key:0,className:"text-red-600"},Y={className:"mb-4"},Z=e("label",{for:"password"},"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",-1),ee={key:0,className:"text-red-600"},te={className:"mb-4"},se=e("label",{for:"percentage"}," \u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",-1),oe={class:"modal-footer my-2"},ae={class:"flex flex-row"},de={class:"basis-1/2 px-4"},ne={class:"basis-1/2 px-4"},le={__name:"ModalUsersCustom",props:{show:Boolean,data:String},emits:["close","a"],setup(p,{emit:m}){let d=b({name:"",email:"",password:"",percentage:1e4});return(l,a)=>(c(),N(C,{name:"modal"},{default:$(()=>[p.show?(c(),u("div",P,[e("div",R,[e("div",j,[e("div",q,[U(l.$slots,"header")]),J,e("div",null,[e("form",null,[e("div",X,[e("div",z,[G,_(e("input",{id:"name",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[0]||(a[0]=t=>s(d).name=t),autofocus:""},null,512),[[g,s(d).name]]),s(d).name?f("",!0):(c(),u("span",K," \u0627\u0644\u0623\u0633\u0645 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "))]),e("div",O,[Q,_(e("input",{id:"email",type:"email",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[1]||(a[1]=t=>s(d).email=t)},null,512),[[g,s(d).email]]),!s(d).email||!s(d).email.includes("@")||!s(d).email.includes(".com")?(c(),u("span",W," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 \u0627\u064A\u0645\u064A\u0644 \u0645\u062B\u0644 alaa@cms.com ")):f("",!0)]),e("div",Y,[Z,_(e("input",{id:"password",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[2]||(a[2]=t=>s(d).password=t)},null,512),[[g,s(d).password]]),s(d).password.length<8?(c(),u("span",ee," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 \u0645\u0646 8 \u0627\u0631\u0642\u0627\u0645 \u0627\u0648 \u0627\u062D\u0631\u0641 \u0627\u0646\u0643\u0644\u064A\u0632\u064A\u0629 ")):f("",!0)]),e("div",te,[se,_(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":a[3]||(a[3]=t=>s(d).percentage=t)},null,512),[[g,s(d).percentage]])])])])]),e("div",oe,[e("div",ae,[e("div",de,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:a[4]||(a[4]=t=>{l.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",ne,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:a[5]||(a[5]=t=>{l.$emit("a",s(d))})},"\u062D\u0641\u0638")])])])])])])):f("",!0)]),_:3}))}};const re={key:0,class:"modal-mask"},ie={class:"modal-wrapper"},ce={class:"modal-container"},ue={class:"modal-header"},me=e("div",{class:"modal-body"}," \u0627\u0644\u0645\u0646\u062F\u0648\u0628\u064A\u0646 ",-1),pe={className:"flex flex-col"},_e={className:"mb-4"},ge=e("label",{for:"name"},"\u0627\u0644\u0623\u0633\u0645",-1),fe={key:0,className:"text-red-600"},be={className:"mb-4"},he=e("label",{for:"percentage"}," \u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",-1),ye={class:"modal-footer my-2"},ve={class:"flex flex-row"},xe={class:"basis-1/2 px-4"},we={class:"basis-1/2 px-4"},$e={__name:"ModalUsersCustomEdit",props:{show:Boolean,id:Number,name:String,percentage:Number},emits:["close","a"],setup(p,{emit:m}){const d=p;D(d,a=>{l.value={id:a.id,name:a.name,percentage:a.percentage}});let l=b({id:d.id,name:d.name,percentage:d.percentage});return(a,t)=>(c(),N(C,{name:"modal"},{default:$(()=>[p.show?(c(),u("div",re,[e("div",ie,[e("div",ce,[e("div",ue,[U(a.$slots,"header")]),me,e("div",null,[e("form",null,[e("div",pe,[e("div",_e,[ge,_(e("input",{id:"name",type:"text",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":t[0]||(t[0]=r=>s(l).name=r),autofocus:""},null,512),[[g,s(l).name]]),s(l).name?f("",!0):(c(),u("span",fe," \u0627\u0644\u0623\u0633\u0645 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "))]),e("div",be,[he,_(e("input",{id:"number",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":t[1]||(t[1]=r=>s(l).percentage=r)},null,512),[[g,s(l).percentage]])])])])]),e("div",ye,[e("div",ve,[e("div",xe,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:t[2]||(t[2]=r=>{a.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",we,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:t[3]||(t[3]=r=>{a.$emit("a",s(l))})},"\u062D\u0641\u0638")])])])])])])):f("",!0)]),_:3}))}};const ke={class:"p-6"},Ne={class:"overflow-x-auto"},Ue={class:"overflow-x-auto rounded-lg"},Ce={id:"default-table",class:"w-full text-sm text-gray-700"},Ae=e("thead",{class:"bg-gray-100 text-xs uppercase"},[e("tr",null,[e("th",{class:"px-4 py-3 text-center"},"#"),e("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0645\u0646\u062F\u0648\u0628"),e("th",{class:"px-4 py-3 text-center"},"\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0628\u0627\u0644\u062F\u064A\u0646\u0627\u0631 \u0644\u0643\u0644 \u0628\u0637\u0627\u0642\u0629"),e("th",{class:"px-4 py-3 text-center"},"\u062A\u0646\u0641\u064A\u0630")])],-1),Me={class:"px-4 py-2 text-center"},Ve={class:"px-4 py-2 text-center"},Be={class:"px-4 py-2 text-center"},Se={class:"px-4 py-2 text-center"},Ee=["data-id","data-name","data-percentage","className"],De=["data-id","className"],Pe={__name:"Index",props:{users:Array},setup(p){const m=I();b(!1);let d=0,l="",a=0,t=b(!1),r=b(!1);const A=(i,o,n,h)=>{d=i,l=o,a=n,r.value=!0};T(()=>{const i=document.querySelector("#default-table");i&&(new L(i,{perPage:10,perPageSelect:[5,10,25,50],searchable:!0,fixedHeight:!0,pagination:!0,perPageDropdown:[5,10,25,50],labels:{placeholder:"\u0628\u062D\u062B...",perPage:"\u0639\u0631\u0636 \u0643\u0644 \u0635\u0641\u062D\u0629",noRows:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A",info:"\u0639\u0631\u0636 {start} \u0625\u0644\u0649 {end} \u0645\u0646 \u0623\u0635\u0644 {rows} \u0633\u062C\u0644"}}),i.addEventListener("click",o=>{if(o.target.matches(".btn-edit")){const n=o.target.getAttribute("data-id"),h=o.target.getAttribute("data-name"),S=o.target.getAttribute("data-percentage");o.target.getAttribute("data-email"),A(n,h,S)}if(o.target.matches(".btn-delete")){const n=o.target.getAttribute("data-id");B(n)}}))});const M=i=>{w.post("/api/add-user-custom",i).then(o=>{t.value=!1,m.success("\u062A\u0645 \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}).catch(o=>{o.response.status==422&&m.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627 \u0627\u0648 \u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 \u0642\u0628\u0644 \u064A\u0631\u062C\u0649 \u0643\u062A\u0627\u0628\u0629 \u0627\u064A\u0645\u064A\u0644 \u062C\u062F\u064A\u062F")})},V=i=>{w.post("/api/edit-user-custom",i).then(o=>{r.value=!1,m.success("\u062A\u0645 \u0627\u0644\u062A\u0639\u062F\u064A\u0644 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}).catch(o=>{o.response.status==422&&m.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627 \u0627\u0648 \u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0646 \u0642\u0628\u0644 \u064A\u0631\u062C\u0649 \u0643\u062A\u0627\u0628\u0629 \u0627\u064A\u0645\u064A\u0644 \u062C\u062F\u064A\u062F")})},B=i=>{confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u061F")&&w.delete(`/api/delete-user-custom/${i}`).then(o=>{m.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}).catch(o=>{m.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645")})};return(i,o)=>(c(),u(k,null,[y(s(H),{title:"Dashboard"}),y(le,{show:s(t),onClose:o[0]||(o[0]=n=>v(t)?t.value=!1:t=!1),onA:M},null,8,["show"]),y($e,{show:s(r),onClose:o[1]||(o[1]=n=>v(r)?r.value=!1:r=!1),onA:V,percentage:s(a),id:s(d),name:s(l)},null,8,["show","percentage","id","name"]),y(E,null,{default:$(()=>[e("div",ke,[e("div",Ne,[e("div",Ue,[e("button",{onClick:o[2]||(o[2]=n=>v(t)?t.value=!0:t=!0),class:"px-6 py-2 mb-4 font-bold text-white bg-blue-500 rounded"},"\u0627\u0636\u0627\u0641\u0629 \u0645\u0646\u062F\u0648\u0628"),e("table",Ce,[Ae,e("tbody",null,[(c(!0),u(k,null,F(p.users,(n,h)=>(c(),u("tr",{key:n.id,class:"border-b hover:bg-gray-50 dark:hover:bg-gray-900"},[e("td",Me,x(h+1),1),e("td",Ve,x(n.name),1),e("td",Be,x(n.percentage),1),e("td",Se,[e("button",{tabIndex:"1","data-id":n.id,"data-name":n.name,"data-percentage":n.percentage,className:"px-3 btn-edit py-1 text-white mx-1 bg-rose-600 rounded user-"+n.id},"\u062A\u0639\u062F\u064A\u0644",8,Ee),e("button",{tabIndex:"2","data-id":n.id,className:"px-3 btn-delete py-1 text-white mx-1 bg-red-600 rounded user-"+n.id},"\u062D\u0630\u0641",8,De)])]))),128))])])])])])]),_:1})],64))}};export{Pe as default};
