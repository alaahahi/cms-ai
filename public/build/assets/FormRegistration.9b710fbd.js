import{r as m,o as l,c as d,a as o,b as C,w as h,F as U,H as D,d as e,t as v,e as n,x,f as K,v as R,g as H,L as I,O as T,N as M}from"./app.6605915f.js";import{_ as j}from"./AuthenticatedLayout.b7650766.js";import{_ as c}from"./InputLabel.159ea639.js";import{_ as b}from"./TextInput.cb445c55.js";/* empty css                                                 */import{a as A}from"./index.1128b191.js";const E=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," \u0627\u0644\u0639\u0642\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A ",-1),O={key:0},q={id:"alert-2",class:"p-4 mb-4 bg-green-300 rounded-lg dark:bg-green-300 text-center",role:"alert"},z={class:"ml-3 text-sm font-medium text-green-700 dark:text-green-800"},G={key:1},J=e("div",{id:"alert-2",class:"p-4 mb-4 bg-red-300 rounded-lg dark:bg-red-300 text-center",role:"alert"},[e("div",{class:"ml-3 text-sm font-medium text-red-700 dark:text-red-800"}," \u064A\u0631\u062C\u0649 \u0627\u062F\u062E\u0627\u0644 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 ")],-1),P=[J],Q=["onSubmit"],W={class:"flex flex-row"},X={class:"grow"},Y={class:"py-6"},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ee={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},te={class:"p-6 bg-white border-b border-gray-200"},ae=e("h2",{class:"text-center text-xl py-2"},"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0628\u0637\u0627\u0642\u0629",-1),se={className:"flex flex-col"},oe={className:"mb-4"},le={key:0},de={className:"text-red-600"},re={className:"text-red-600"},ne={key:1},ue={className:"mb-4"},ie={key:0},me={className:"mb-4"},ce=e("option",{selected:"",disabled:""},"\u0627\u0644\u0645\u0646\u062F\u0648\u0628",-1),_e=["value"],ve={key:0},be={className:"mb-4"},pe={className:"mb-4"},fe={className:"mb-4"},he={key:0},xe={className:"flex items-center justify-center my-6 "},ye=["onClick","onKeyup","disabled"],ge={key:0},ke={key:1},Ae={__name:"FormRegistration",props:{usersType:Array,sales:Array,cards:Array},setup(F){const a=m({}),_=m(0);m(!1);const u=m(0),i=m(0),p=m(!1),f=()=>{p.value=!0,A.post("/api/formRegistration",a.value).then(r=>{u.value=r.data,a.value={}}).catch(r=>{u.value=0,i.value=r.response.data.errors}),p.value=!1};let y=null;const L=1e3,S=r=>{clearTimeout(y),y=setTimeout(()=>{$(r)},L)},$=r=>{A.get("/api/checkCard?card_id="+r).then(t=>{_.value=t.data}).catch(t=>{_.value=0})};return(r,t)=>(l(),d(U,null,[o(C(D),{title:"Dashboard"}),o(j,null,{header:h(()=>[E]),default:h(()=>{var g,k,w,V,N;return[u.value?(l(),d("div",O,[e("div",q,[e("div",z," \u062A\u0645 \u0627\u062F\u062E\u0627\u0644 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0628\u0646\u062C\u0627\u062D \u0631\u0642\u0645 "+v(u.value.card_number)+" \u0628\u0623\u0633\u0645 \u0627\u0644\u0632\u0628\u0648\u0646 "+v(u.value.name),1)])])):n("",!0),i.value&&!u.value?(l(),d("div",G,P)):n("",!0),e("form",{name:"createForm",onSubmit:T(f,["prevent"])},[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[ae,e("div",se,[e("div",oe,[o(c,{for:"card_number",value:"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629"}),o(b,{id:"card_number",type:"number",class:"mt-1 block w-full",autofocus:"",onInput:t[0]||(t[0]=s=>S(a.value.card_number)),modelValue:a.value.card_number,"onUpdate:modelValue":t[1]||(t[1]=s=>a.value.card_number=s)},null,8,["modelValue"]),_.value?(l(),d("span",le,[x(" \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u062A\u0645 \u062A\u0633\u062C\u064A\u0644\u0647\u0627 \u0642\u0628\u0644 \u0628\u0623\u0633\u0645 "),e("span",de,v(_.value.name),1),x(" \u0644\u0644\u0645\u0646\u062F\u0648\u0628 "),e("span",re,v((g=_.value.user)==null?void 0:g.name),1)])):n("",!0),(k=i.value)!=null&&k.card_number?(l(),d("div",ne," \u0627\u0644\u0628\u0637\u0627\u0642\u0629\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 ")):n("",!0)]),e("div",ue,[o(c,{for:"name",value:"\u0627\u0644\u0623\u0633\u0645"}),o(b,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:a.value.name,"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.name=s)},null,8,["modelValue"]),(w=i.value)!=null&&w.name?(l(),d("div",ie," \u0627\u0644\u0628\u0637\u0627\u0642\u0629\u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 ")):n("",!0)]),e("div",me,[o(c,{for:"sales_id",value:"\u0627\u0644\u0645\u0646\u062F\u0648\u0628"}),K(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.saler_id=s),id:"userType",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[ce,(l(!0),d(U,null,H(F.sales,(s,B)=>(l(),d("option",{key:B,value:s.id},v(s.name),9,_e))),128))],512),[[R,a.value.saler_id]]),(V=i.value)!=null&&V.saler_id?(l(),d("div",ve," \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 ")):n("",!0)]),e("div",be,[o(c,{for:"address",value:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"}),o(b,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:a.value.address,"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.address=s)},null,8,["modelValue"])]),e("div",pe,[o(c,{for:"family_name",value:"\u0623\u0641\u0631\u0627\u062F \u0627\u0644\u0639\u0627\u0626\u0644\u0629"}),o(b,{id:"family_name",type:"text",class:"mt-1 block w-full",modelValue:a.value.family_name,"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.family_name=s)},null,8,["modelValue"])]),e("div",fe,[o(c,{for:"phone_number",value:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"}),o(b,{id:"phone_number",type:"text",class:"mt-1 block w-full",modelValue:a.value.phone_number,"onUpdate:modelValue":t[6]||(t[6]=s=>a.value.phone_number=s)},null,8,["modelValue"]),(N=i.value)!=null&&N.phone_number?(l(),d("div",he," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 ")):n("",!0)])])])])])])])]),e("div",xe,[o(C(I),{className:"px-6 mx-2 py-2 mb-12 text-white bg-gray-500 rounded-md focus:outline-none rounded",href:r.route("formRegistration")},{default:h(()=>[x(" \u0627\u0644\u0639\u0648\u062F\u0629 ")]),_:1},8,["href"]),e("button",{onClick:T(f,["prevent"]),onKeyup:M(f,["enter"]),disabled:p.value,class:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-rose-500 rounded"},[p.value?(l(),d("span",ke,"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...")):(l(),d("span",ge,"\u062D\u0641\u0638"))],40,ye)])],40,Q)]}),_:1})],64))}};export{Ae as default};
