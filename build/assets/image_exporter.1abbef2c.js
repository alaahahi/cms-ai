import{r as o,c as l,a as h,b as m,w as f,F as p,o as n,H as C,d as t,f as D,h as M,J as V,P as B,t as b,e as Y,g as x,q as v}from"./app.1fa325c3.js";import{_ as F}from"./AuthenticatedLayout.ab950380.js";import"./vue-tailwind-datepicker.feb48e94.js";import{a as k}from"./index.5d1f3042.js";import"./_plugin-vue_export-helper.cdc0426e.js";const N=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-white leading-tight"}," \u0627\u0633\u062A\u062E\u0631\u0627\u062C \u0627\u0644\u0635\u0648\u0631 ",-1),P={class:"flex items-center px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-700"},T=t("svg",{class:"w-5 h-5 rotate-45","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[t("path",{d:"m17.914 18.594-8-18a1 1 0 0 0-1.828 0l-8 18a1 1 0 0 0 1.157 1.376L8 18.281V9a1 1 0 0 1 2 0v9.281l6.758 1.689a1 1 0 0 0 1.156-1.376Z"})],-1),$=t("span",{class:"sr-only"},"Send message",-1),j=[T,$],q={key:0,class:"px-5 py-2"},z={class:"w-full bg-gray-200 rounded-full dark:bg-gray-700 mt-2"},H={class:"mt-2 px-5 py-2 rounded-lg bg-gray-50 dark:bg-gray-700"},L={class:"w-64 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},R={class:"w-64 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},K={__name:"image_exporter",props:{url:String,user:String,profile:String,comp:String,working:String,cardCompany:String,cardRegister:String,balance:String},setup(U){let d=o("");const u=o([]),i=o([]),c=o(!1),g=o(0);function _(r){const s=new FormData;for(let e of r.target.files)s.append("images[]",e);c.value=!0,g.value=0,k.post("/extract-phones",s,{onUploadProgress:e=>{g.value=Math.round(e.loaded*100/e.total)}}).then(e=>{u.value=e.data.results.flatMap(a=>a.phones),i.value=[...new Set(u.value)]}).catch(e=>{console.error("\u062D\u062F\u062B \u062E\u0637\u0623",e)}).finally(()=>{c.value=!1})}const y=o({startDate:"",endDate:""}),w=o();o({date:"D/MM/YYYY",month:"MM"}),o({shortcuts:{today:"\u0627\u0644\u064A\u0648\u0645",yesterday:"\u0627\u0644\u0628\u0627\u0631\u062D\u0629",past:r=>r+" \u0642\u0628\u0644 \u064A\u0648\u0645",currentMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u062D\u0627\u0644\u064A",pastMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0633\u0627\u0628\u0642"},footer:{apply:"Terapkan",cancel:"Batal"}}),(async()=>{const r=await fetch(`getcount?start=${y.value.startDate}&end=${y.value.endDate}`);w.value=await r.json()})();const S=()=>{k.post("api/send-text-phone",{text:d.value}).then(r=>{u.value=r.data.phones}).catch(r=>{console.error("\u062D\u062F\u062B \u062E\u0637\u0623",r)})};return(r,s)=>(n(),l(p,null,[h(m(C),{title:"Dashboard"}),h(F,null,{header:f(()=>[N]),default:f(()=>[t("div",null,[t("div",P,[t("button",{onClick:s[0]||(s[0]=e=>S()),class:"inline-flex justify-center p-2 text-blue-600 rounded-full cursor-pointer hover:bg-blue-100 dark:text-blue-500 dark:hover:bg-gray-600"},j),D(t("textarea",{rows:"1","onUpdate:modelValue":s[1]||(s[1]=e=>V(d)?d.value=e:d=e),class:"block mx-4 p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",style:{height:"300px",font:"1.5em sans-serif"}},null,512),[[M,m(d)]]),t("input",{multiple:"",onChange:_,class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"user_avatar_help",type:"file"},null,32)]),c.value?(n(),l("div",q,[t("div",z,[t("div",{class:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:B({width:g.value+"%"})},b(g.value)+"% ",5)])])):Y("",!0),t("div",H,[t("ul",L,[(n(!0),l(p,null,x(u.value,(e,a)=>(n(),l("li",{key:a,class:v(["w-full px-4 py-2 border-b border-gray-200 last:border-b-0 dark:border-gray-600",{"rounded-t-lg":a===0,"rounded-b-lg":a===u.value.length-1}])},b(e),3))),128))]),t("ul",R,[(n(!0),l(p,null,x(i.value,(e,a)=>(n(),l("li",{key:a,class:v(["w-full px-4 py-2 border-b border-gray-200 last:border-b-0 dark:border-gray-600",{"rounded-t-lg":a===0,"rounded-b-lg":a===i.value.length-1}])},b(e),3))),128))])])])]),_:1})],64))}};export{K as default};
