import{_ as M}from"./AuthenticatedLayout.6960814a.js";import{t as U}from"./laravel-vue-pagination.es.e39b7b9a.js";import{m as b,o as s,d as v,e as u,a as n,h as e,r as V,w as N,F as w,J as I,t as r,N as D,I as S,g as m,T,b as j,f as y,u as p,H as F,j as f,i as L,L as C}from"./app.36b433d4.js";const H={key:0,class:"modal-mask"},P={class:"modal-wrapper"},R={class:"modal-container"},E={class:"modal-header"},J={class:"modal-body"},q=e("h2",{class:"text-center"}," \u0625\u0636\u0627\u0641\u0629 \u0628\u0637\u0627\u0642\u0627\u062A \u0644\u0644\u0645\u0646\u062F\u0648\u0628 ",-1),z={className:"mb-4 mx-5"},G=e("label",{for:"card_id"}," \u0646\u0648\u0639 \u0627\u0644\u0628\u0637\u0627\u0642\u0629",-1),K=e("option",{selected:"",disabled:""},"\u062A\u062D\u062F\u064A\u062F \u0627\u0644\u0628\u0637\u0627\u0642\u0629",-1),O=["value"],Q={className:"mb-4 mx-5"},W=e("label",{for:"card"},"\u0639\u062F\u062F \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u062A\u064A \u062A\u0645 \u062A\u0633\u0644\u064A\u0645\u0647\u0627 \u0644\u0644\u0645\u0646\u062F\u0648\u0628",-1),X={class:"modal-footer my-2"},Y={class:"flex flex-row"},Z={class:"basis-1/2 px-4"},ee={class:"basis-1/2 px-4"},te=["disabled"],ae={__name:"ModalAddCardUser",props:{show:Boolean,data:Array},setup(h){const o=b({card_id:null,card:""});return(_,d)=>(s(),v(T,{name:"modal"},{default:u(()=>[h.show?(s(),n("div",H,[e("div",P,[e("div",R,[e("div",E,[V(_.$slots,"header")]),e("div",J,[q,e("div",z,[G,N(e("select",{"onUpdate:modelValue":d[0]||(d[0]=l=>o.value.card_id=l),id:"card_id",class:"pr-8 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[K,(s(!0),n(w,null,I(h.data,(l,g)=>(s(),n("option",{key:g,value:l.id},r(l.name),9,O))),128))],512),[[D,o.value.card_id]])]),e("div",Q,[W,N(e("input",{id:"card",type:"number",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":d[1]||(d[1]=l=>o.value.card=l)},null,512),[[S,o.value.card]])])]),e("div",X,[e("div",Y,[e("div",Z,[e("button",{class:"modal-default-button py-3 bg-gray-500 rounded",onClick:d[2]||(d[2]=l=>{_.$emit("close")})},"\u062A\u0631\u0627\u062C\u0639")]),e("div",ee,[e("button",{class:"modal-default-button py-3 bg-rose-500 rounded col-6",onClick:d[3]||(d[3]=l=>{_.$emit("a",o.value)}),disabled:!(o.value.card&&o.value.card_id)},"\u0646\u0639\u0645",8,te)])])])])])])):m("",!0)]),_:3}))}};const se=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 ",-1),oe={class:"py-12"},de={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},le={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ne={class:"p-6 bg-white border-b border-gray-200"},re={className:"flex items-center justify-between mb-6"},ie={class:"overflow-x-auto shadow-md"},ce={class:"w-full my-5"},me=e("thead",{class:"700 bg-rose-500 text-white text-center rounded-l-lg"},[e("tr",{class:"bg-rose-500 rounded-l-lg mb-2 sm:mb-0"},[e("th",{className:"px-4 py-2 w-20"},"\u0627\u0644\u0631\u0642\u0645"),e("th",{className:"px-4 py-2"},"\u0627\u0644\u0623\u0633\u0645"),e("th",{className:"px-4 py-2"},"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),e("th",{className:"px-4 py-2"},"\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A"),e("th",{className:"px-4 py-2"},"\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),e("th",{className:"px-4 py-2"},"\u0639\u062F\u062F \u0627\u0644\u0628\u0637\u0627\u0642\u0627\u062A"),e("th",{className:"px-4 py-2"},"\u0627\u0644\u0631\u0635\u064A\u062F"),e("th",{className:"px-4 py-2"},"\u062A\u0646\u0641\u064A\u0630")])],-1),_e={class:"flex-1 sm:flex-none"},ue={className:"border px-4 py-2"},pe={className:"border px-4 py-2"},be={className:"border px-4 py-2"},he={key:0,class:"text-sm text-green-500 font-bold py-2 px-2 hover:text-red-500"},xe={className:"border px-4 py-2"},ye={className:"border px-4 py-2"},fe={className:"border px-4 py-2"},ge={className:"border px-4 py-2"},ve={className:"border px-4 py-2",style:{"min-height":"42px"}},we=["onClick"],$e=["onClick"],ke=["onClick"],Ne={class:"mt-3 text-center",style:{direction:"ltr"}},Be={__name:"Index",props:{url:String,cards:Array},setup(h){const o=b({});b({});const _=async(a=1)=>{const i=await fetch(`/getIndex?page=${a}`);o.value=await i.json()};_();const d=j();function l(a){d.get(route("ban",a)),window.location.reload()}function g(a){d.get(route("unban",a)),window.location.reload()}let c=b(!1),x=b(0);function A(a){let i=a.card_id,t=a.card;fetch(`/addUserCard/${i}/${t}/${x.value}`).then(()=>{c.value=!1,x.value=0,window.location.reload()}).catch($=>{c.value=!1,x.value=0})}function B(a){x.value=a,c.value=!0}return(a,i)=>(s(),n(w,null,[y(p(F),{title:"Dashboard"}),a.$page.props.auth.user.type_id==1?(s(),v(M,{key:0},{header:u(()=>[se]),default:u(()=>[y(ae,{show:!!p(c),data:h.cards,onA:i[0]||(i[0]=t=>A(t)),onClose:i[1]||(i[1]=t=>L(c)?c.value=!1:c=!1)},{header:u(()=>[f(" \u0652 ")]),_:1},8,["show","data"]),e("div",oe,[e("div",de,[e("div",le,[e("div",ne,[e("div",re,[y(p(C),{className:"px-6 py-2 text-white bg-rose-500 rounded-md focus:outline-none",href:a.route("users.create")},{default:u(()=>[f(" \u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062A\u062E\u062F\u0645 ")]),_:1},8,["href"])]),e("div",ie,[e("table",ce,[me,e("tbody",_e,[(s(!0),n(w,null,I(o.value.data,(t,$)=>(s(),n("tr",{key:t.id,class:"text-center mb-2 sm:mb-0 hover:bg-gray-100"},[e("td",ue,r($+1),1),e("td",pe,r(t.name),1),e("td",be,[f(r(t.email),1),t.device?(s(),n("span",he,r(t.device),1)):m("",!0)]),e("td",xe,r(t.user_type?t.user_type.name:""),1),e("td",ye,r(t.percentage),1),e("td",fe,r(t.wallet?t.wallet.card:""),1),e("td",ge,r(t.wallet?t.wallet.balance:""),1),e("td",ve,[t.email!="admin@admin.com"?(s(),v(p(C),{key:0,tabIndex:"1",className:"px-2 py-1 text-sm text-white bg-slate-500 rounded",href:a.route("users.edit",t.id)},{default:u(()=>[f(" \u062A\u0639\u062F\u064A\u0644 ")]),_:2},1032,["href"])):m("",!0),!t.is_band&&t.email!="admin@admin.com"?(s(),n("button",{key:1,onClick:k=>l(t.id),tabIndex:"-1",type:"button",className:"mx-1 px-2 py-1 text-sm text-white bg-orange-500 rounded"}," \u062A\u0642\u064A\u062F ",8,we)):m("",!0),t.is_band&&t.email!="admin@admin.com"?(s(),n("button",{key:2,onClick:k=>g(t.id),tabIndex:"-1",type:"button",className:"mx-1 px-2 py-1 text-sm text-white bg-orange-500 rounded"}," \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u062A\u0642\u064A\u062F ",8,$e)):m("",!0),!t.is_band&&t.email!="admin@admin.com"?(s(),n("button",{key:3,onClick:k=>B(t.id),tabIndex:"-1",type:"button",className:"mx-1 px-2 py-1 text-sm text-white bg-green-500 rounded"}," \u0625\u0636\u0627\u0641\u0629 \u0628\u0637\u0627\u0642\u0627\u062A ",8,ke)):m("",!0)])]))),128))])])]),e("div",Ne,[y(p(U),{data:o.value,onPaginationChangePage:_},null,8,["data"])])])])])])]),_:1})):m("",!0)],64))}};export{Be as default};
