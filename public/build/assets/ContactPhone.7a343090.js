import{_ as S}from"./AuthenticatedLayout.2fa4c5f0.js";import{r as b,X as T,o as h,s as M,w as k,c as p,d as t,m as B,t as a,f as v,h as f,e as y,T as H,l as P,a as _,b as x,J as V,F as w,H as j,g as D}from"./app.5327c132.js";import{a as L}from"./index.54d3e316.js";import{t as N}from"./laravel-vue-pagination.es.1b8c1d46.js";import"./_plugin-vue_export-helper.cdc0426e.js";const O={key:0,class:"modal-mask"},A={class:"modal-wrapper"},F={class:"modal-container"},R={class:"modal-header"},U={class:"modal-body"},E={class:"text-center mb-4"},J={class:"mb-4"},X=t("label",null,"\u0627\u0644\u0627\u0633\u0645:",-1),q={class:"mb-4"},z=t("label",null,"\u0645\u0644\u0627\u062D\u0638\u0629:",-1),G=t("div",{class:"mb-4"},null,-1),I={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},K={class:"mt-4"},Q={class:"mt-4"},W={class:"mt-4"},Y={class:"mt-4"},Z={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6"},tt={class:"mt-4"},et={class:"mt-4"},st={__name:"ModalSure",props:{show:Boolean,phone:Object,status:Number},emits:["close"],setup(o,{emit:r}){const g=o;b(!1),b(1),b(""),b("");const i=T();async function d(m){try{const e={id:g.phone.id,type:m,name:g.phone.name,note:g.phone.note};await L.post("/api/number-decision",e),r("updated"),r("close"),i.success("\u062A\u0645 \u0627\u0644\u062A\u0646\u0641\u064A\u0630 \u0628\u0646\u062C\u0627\u062D"),window.location.reload()}catch(e){console.error("\u062E\u0637\u0623 \u0641\u064A \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A:",e)}}return(m,e)=>(h(),M(H,{name:"modal"},{default:k(()=>[o.show?(h(),p("div",O,[t("div",A,[t("div",F,[t("div",R,[B(m.$slots,"header")]),t("div",U,[t("h2",E,"\u0642\u0628\u0648\u0644 \u0623\u0648 \u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636 "+a(o.phone.phone),1),t("div",J,[X,v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>o.phone.name=n),type:"text",class:"w-full p-2 border rounded mt-1"},null,512),[[f,o.phone.name]])]),t("div",q,[z,v(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=n=>o.phone.note=n),class:"w-full p-2 border rounded mt-1"},null,512),[[f,o.phone.note]])]),G,t("div",I,[t("div",K,[t("button",{onClick:e[2]||(e[2]=n=>d("accept")),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full"}," \u0642\u0628\u0648\u0644 \u0627\u0644\u0639\u0631\u0636 ")]),t("div",Q,[t("button",{onClick:e[3]||(e[3]=n=>d("followup")),class:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 w-full"}," \u0645\u0639\u0627\u0648\u062F\u0629 \u0645\u0631\u0647 \u0627\u062E\u0631\u0649 ")]),t("div",W,[t("button",{onClick:e[4]||(e[4]=n=>d("busy")),class:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 w-full"}," \u0645\u0634\u063A\u0648\u0644 ")]),t("div",Y,[t("button",{onClick:e[5]||(e[5]=n=>d("reject")),class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 w-full"}," \u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636 ")])]),t("div",Z,[t("div",tt,[t("button",{onClick:e[6]||(e[6]=n=>r("close")),class:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 w-full"}," \u062A\u0631\u0627\u062C\u0639 ")]),t("div",et,[t("button",{onClick:e[7]||(e[7]=n=>d("edit")),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full"}," \u062A\u0639\u062F\u064A\u0644 ")])])])])])])):y("",!0)]),_:3}))}};const ot={class:"p-6"},nt=t("h1",{class:"text-2xl font-bold mb-4 text-gray-800 dark:text-white"},"\u0639\u0631\u0636 \u0627\u0644\u0627\u0631\u0642\u0627\u0645",-1),lt={class:"overflow-x-auto"},at={class:"overflow-x-auto rounded-lg"},dt={id:"default-table",class:"w-full text-sm text-gray-700"},rt=t("thead",{class:"bg-gray-100 text-xs uppercase"},[t("tr",null,[t("th",{class:"px-4 py-3 text-center"},"#"),t("th",{class:"px-4 py-3 text-center"},"\u0631\u0642\u0645 \u0648\u0627\u062A\u0633\u0627\u0628"),t("th",{class:"px-4 py-3 text-center"},"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0635\u0648\u0631\u0629"),t("th",{class:"px-4 py-3 text-center"},"\u062A\u0627\u0631\u064A\u062E"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0627\u0633\u0645"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A"),t("th",{class:"px-4 py-3 text-center"},"\u0627\u0644\u062D\u0627\u0644\u0629"),t("th",{class:"px-4 py-3 text-center"},"\u062A\u0646\u0641\u064A\u0630")])],-1),ct={class:"px-4 py-2 text-center"},it={class:"px-4 py-2 text-center"},ut=["href"],ht={class:"px-4 py-2 text-center"},xt=["href"],pt={class:"px-4 py-2 text-center"},bt={class:"px-4 py-2 text-center"},gt={class:"px-4 py-2 text-center"},mt={class:"px-4 py-2 text-center"},_t=["innerHTML"],yt={class:"px-4 py-2 text-center"},vt=["onClick"],ft={key:0,class:"mt-6 flex justify-center",style:{direction:"ltr"}},wt={key:1,class:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400"},Bt={__name:"ContactPhone",props:{numbers:Object},setup(o){const r=o,g=P(()=>{var l;return((l=r.numbers)==null?void 0:l.data)||[]});let i=b(!1),d=b(),m=0;function e(l){const c={0:["\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0625\u0633\u0646\u0627\u062F","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100 "],1:["\u062A\u0645 \u0627\u0644\u0625\u0633\u0646\u0627\u062F","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"],2:["\u062A\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u0639\u0631\u0636","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"],3:["\u0631\u0641\u0636 \u0627\u0644\u0639\u0631\u0636","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"],4:["\u0645\u0639\u0627\u0648\u062F\u0629 \u0645\u0631\u0647 \u0627\u062E\u0631\u0649","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"],5:["\u0645\u0634\u063A\u0648\u0644","bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-100"]},[s,u]=c[l]||["\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641","bg-gray-100 text-gray-800"];return`<span class="text-xs text-white font-medium me-2 px-2.5 py-0.5 rounded-full ${u}">${s}</span>`}const n=(l,c)=>{d.value=l,console.log(d.value),i.value=!0},$=l=>{var c,s;if(l&&((c=r.numbers)==null?void 0:c.links)&&((s=r.numbers.links[l])==null?void 0:s.url)){const u=r.numbers.links[l].url;u&&(window.location.href=u)}},C=()=>{console.log(ids)};return(l,c)=>(h(),p(w,null,[_(x(j),{title:"Dashboard"}),_(st,{show:x(i),phone:x(d),status:x(m),onClose:c[0]||(c[0]=s=>V(i)?i.value=!1:i=!1),onA:C},null,8,["show","phone","status"]),_(S,null,{default:k(()=>[t("div",ot,[nt,t("div",lt,[t("div",at,[t("table",dt,[rt,t("tbody",null,[(h(!0),p(w,null,D(x(g),(s,u)=>(h(),p("tr",{key:s.id,class:"border-b hover:bg-gray-50 dark:hover:bg-gray-900"},[t("td",ct,a(o.numbers?(o.numbers.current_page-1)*o.numbers.per_page+u+1:u+1),1),t("td",it,[t("a",{href:`https://wa.me/${s.phone}`,target:"_blank",class:"text-blue-600 hover:underline"},a(s.phone),9,ut)]),t("td",ht,[t("a",{href:`tel:${s.phone}`,target:"_blank",class:"text-green-600 hover:underline"},a(s.phone),9,xt)]),t("td",pt,a(s.image_name||"-"),1),t("td",bt,a(s.created_at?s.created_at.split("T")?s.created_at.split("T")[0]:s.created_at:"-"),1),t("td",gt,a(s.name||"-"),1),t("td",mt,a(s.note||"-"),1),t("td",{class:"px-4 py-2 text-center",style:{"min-width":"140px"},innerHTML:e(s.status)},null,8,_t),t("td",yt,[t("button",{class:"px-3 py-1 text-white mx-1 bg-rose-600 rounded hover:bg-rose-700 transition",onClick:kt=>n(s,"OfferAccepted")}," \u062A\u0646\u0641\u064A\u0630 ",8,vt)])]))),128))])])]),o.numbers&&o.numbers.last_page>1?(h(),p("div",ft,[_(x(N),{data:o.numbers,onPaginationChangePage:$,limit:5},null,8,["data"])])):y("",!0),o.numbers?(h(),p("div",wt," \u0639\u0631\u0636 "+a(o.numbers.from)+" \u0625\u0644\u0649 "+a(o.numbers.to)+" \u0645\u0646 "+a(o.numbers.total)+" \u0633\u062C\u0644 ",1)):y("",!0)])])]),_:1})],64))}};export{Bt as default};
