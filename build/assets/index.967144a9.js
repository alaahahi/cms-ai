import{r as o,X as z,c as s,a as $,b as _,w as F,F as p,o as e,H,d as t,q as y,f as L,h as R,e as x,g as h,t as a,x as v}from"./app.4d5c11b1.js";import{_ as q}from"./AuthenticatedLayout.0a195033.js";import{a as A}from"./index.e288b030.js";import{d as E}from"./debounce.981f2a92.js";const M={key:0,class:"py-2"},W={class:"sm:px-6 lg:px-8 text-sm font-medium text-center text-gray-500 rounded-lg flex dark:divide-gray-700 dark:text-gray-400"},X={class:"w-full"},j={class:"w-full"},G={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},J={class:"bg-white overflow-hidden shadow-sm"},K={class:"p-6 dark:bg-gray-900"},O={class:"flex flex-col"},P=t("br",null,null,-1),Q=["disabled"],Y={key:0},Z={key:1},S={key:0,class:"text-center mt-4 text-gray-500"},tt=t("span",{class:"loader"},null,-1),st=t("p",null,"\u062C\u0627\u0631\u064A \u0627\u0644\u0628\u062D\u062B\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631...",-1),et=[tt,st],ot=t("h3",{class:"text-center h3 py-3"},"\u0627\u0644\u0646\u062A\u0627\u0626\u062C",-1),at={key:1},lt=t("h3",{class:"mt-8 text-lg font-semibold text-red-500"},"\u0627\u0644\u0623\u0631\u0642\u0627\u0645 \u0627\u0644\u062A\u064A \u0644\u064A\u0633 \u0644\u0647\u0627 \u0646\u062A\u0627\u0626\u062C:",-1),rt={class:"text-sm text-gray-300 mb-2"},nt={class:"font-bold"},ct={key:2},dt={class:"text-lg font-semibold text-gray-100"},it={class:"text-sm text-gray-300 mb-2"},pt=t("span",{class:"font-bold"},"\u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A:",-1),_t={key:0},yt={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400 text-center"},xt=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},"date",-1),ht=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"}," car_owner",-1),ut=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"}," car_type",-1),mt=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"}," year",-1),gt=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"}," color",-1),bt=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"}," vin",-1),vt=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"}," car_number",-1),ft=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"}," note",-1),kt=t("th",{scope:"col",class:"px-3 py-2 sm:px-4 sm:py-2"},"\u0641\u0631\u0639",-1),wt=t("th",{class:"px-1 py-3 text-base"},"\u062A\u062E\u0632\u064A\u0646",-1),Nt=[xt,ht,ut,mt,gt,bt,vt,ft,kt,wt],Vt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},$t={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ct={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Dt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},It={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Bt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Tt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ut={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},zt={class:"px-3 py-2 sm:px-4 sm:py-2 text-center"},Ft={className:"border dark:border-gray-800 text-center px-1 py-2 "},Ht=["href"],Lt=["src"],Rt={key:1},qt={class:"text-red-500"},At={class:"font-bold"},Et=t("div",null,null,-1),Jt={__name:"index",props:{client:Array},setup(Mt){o({}),z(),o("");let d=o(!1);o(!1),o(!1),o(!1),o(!1),o(!1);let C=o([]);const u=o(!0);let f=o(!1);const k=()=>{C.value.length=0,f.value=!f.value};E(k,500);function w(n){u.value=n,k()}const m=o(""),g=o([]),b=o([]),D=async()=>{d.value=!0;const n=m.value.split(`
`).map(l=>l.trim());try{const l=await A.post("/api/search-vins",{image_links:n});g.value=l.data.message,b.value=l.data.message,d.value=!1}catch(l){console.error("\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0628\u062D\u062B:",l)}};function I(n){return`/public/uploadsResized/${n}`}function B(n){return`/public/uploads/${n}`}return(n,l)=>(e(),s(p,null,[$(_(H),{title:"Dashboard"}),$(q,null,{default:F(()=>[n.$page.props.auth.user.type_id==1||n.$page.props.auth.user.type_id==7?(e(),s("div",M,[t("ul",W,[t("li",X,[t("button",{onClick:l[0]||(l[0]=r=>w(!0)),class:y(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",u.value?"bg-white  dark:bg-gray-900":"dark:bg-gray-800 dark:hover:bg-gray-700"])},"\u0642\u064A\u062F \u0627\u0644\u0639\u0645\u0644 ",2)]),t("li",j,[t("button",{onClick:l[1]||(l[1]=r=>w(!1)),class:y(["inline-block w-full p-4 border-r border-gray-200 dark:border-gray-700 hover:text-gray-700 hover:bg-gray-50 focus:outline-none dark:text-white",u.value?"dark:bg-gray-800 dark:hover:bg-gray-700":"bg-white  dark:bg-gray-900"])},"\u0627\u0644\u0633\u064A\u0627\u0631\u0629 \u0627\u0644\u0645\u0643\u062A\u0645\u0644\u0629",2)])]),t("div",G,[t("div",J,[t("div",K,[t("div",O,[L(t("textarea",{"onUpdate:modelValue":l[2]||(l[2]=r=>m.value=r),placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0623\u0643\u0648\u0627\u062F \u0647\u0646\u0627",style:{height:"500px"}},null,512),[[R,m.value]]),P,t("button",{class:"px-6 mb-12 mx-2 py-2 font-bold text-white bg-green-500 rounded",onClick:D,disabled:_(d)},[_(d)?(e(),s("span",Z,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...")):(e(),s("span",Y,"\u062A\u0634\u063A\u064A\u0644"))],8,Q),_(d)?(e(),s("div",S,et)):x("",!0),ot,b.value.length?(e(),s("div",at,[lt,t("ul",null,[(e(!0),s(p,null,h(b.value,(r,i)=>(e(),s("li",{key:i},[t("p",rt,[t("span",nt,a(i+1)+"- \u0631\u0642\u0645 \u0627\u0644\u0634\u0627\u0635\u064A: ",1),v(" "+a(r),1)])]))),128))])])):x("",!0),g.value.length?(e(),s("div",ct,[(e(!0),s(p,null,h(g.value,(r,i)=>(e(),s("div",{key:i},[t("h4",dt,"\u0628\u062D\u062B "+a(i+1),1),t("p",it,[pt,v(" "+a(r.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)]),r.cars&&r.cars.length?(e(),s("div",_t,[t("table",{class:y([r.cars.length>1?"bg-yellow-200 text-gray-800":"bg-emerald-200 text-gray-800","w-full text-sm text-right text-gray-500 dark:text-gray-200 dark:text-gray-400 text-center divide-y divide-gray-200 dark:divide-gray-800"])},[t("thead",yt,[t("tr",{class:y(r.cars.length>1?"bg-yellow-600 text-gray-100":"bg-emerald-600 text-gray-100")},Nt,2)]),t("tbody",null,[(e(!0),s(p,null,h(r.cars,(c,T)=>{var N;return e(),s("tr",{key:T,class:"bg-white dark:bg-gray-800"},[t("td",Vt,a(c.date),1),t("td",$t,a((N=c.client)==null?void 0:N.name),1),t("td",Ct,a(c.car_type),1),t("td",Dt,a(c.year),1),t("td",It,a(c.car_color),1),t("td",Bt,a(c.vin),1),t("td",Tt,a(c.car_number),1),t("td",Ut,a(c.note),1),t("td",zt,a(c.owner_id==1?"\u0627\u0631\u0628\u064A\u0644":"\u0643\u0631\u0643\u0648\u0643"),1),t("td",Ft,[(e(!0),s(p,null,h(c.car_images,(V,U)=>(e(),s("a",{key:U,href:B(V.name),style:{cursor:"pointer"},target:"_blank"},[t("img",{src:I(V.name),alt:"",class:"px-1",style:{"max-width":"100px","max-height":"50px",display:"inline"}},null,8,Lt)],8,Ht))),128))])])}),128))])],2)])):(e(),s("div",Rt,[t("p",qt,[v(" \u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u0644\u0647\u0630\u0627 \u0627\u0644\u0631\u0642\u0645: "),t("span",At,a(r.vin||"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"),1)])]))]))),128))])):x("",!0)])])])])])):x("",!0),Et]),_:1})],64))}};export{Jt as default};
